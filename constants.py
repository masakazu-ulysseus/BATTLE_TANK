# -*- coding: utf-8 -*-
"""
タンクバトルゲーム定数

すべてのゲーム定数、設定、構成値を含む集約設定ファイル。
ゲームバランス、視覚設定、システムパラメータの信頼できる単一情報源として機能する。

カテゴリ:
- 画面・表示設定
- ゲームバランス・進行設定
- グリッドシステム・空間定数
- エンティティタイプ・分類
- 物理・移動パラメータ
- 視覚デザイン（色・描画）
- 入力キーマッピング
- ゲーム状態管理

使用方法:
    from constants import *
    # すべての定数を直接利用可能
    if entity_type == TANK_PLAYER:
        # プレイヤー専用ロジック
"""

import pyxel

# =============================================================================
# 画面・表示設定
# =============================================================================

# 画面サイズ（ピクセル解像度）
SCREEN_WIDTH = 256   # 画面全体の幅（ピクセル）
SCREEN_HEIGHT = 240  # 画面全体の高さ（ピクセル）

# =============================================================================
# ゲームバランス・進行設定
# =============================================================================

# ステージ進行設定
TOTAL_STAGES = 16                    # ゲーム内の最大ステージ数
ENEMIES_PER_STAGE = 10              # リリース用バランス: ステージあたり10体の敵
PLAYER_LIVES = 3                    # プレイヤーの初期ライフ数

# =============================================================================
# グリッドシステム・空間定数
# =============================================================================

# タイルベースグリッドシステム（すべてのゲームプレイで16x16ピクセルタイルを使用）
TILE_SIZE = 16                                    # 各グリッドセルのサイズ（ピクセル）
MAP_WIDTH = SCREEN_WIDTH // TILE_SIZE            # グリッド幅: 16タイル
MAP_HEIGHT = (SCREEN_HEIGHT - 16) // TILE_SIZE   # グリッド高さ: 14タイル（UI用に16ピクセル確保）

# =============================================================================
# 方向定数
# =============================================================================

# 移動・向き方向（タンクの向きと弾丸の進行方向で使用）
UP = 0      # 上方向（-Y）
DOWN = 1    # 下方向（+Y）
LEFT = 2    # 左方向（-X）
RIGHT = 3   # 右方向（+X）

# =============================================================================
# エンティティタイプ分類
# =============================================================================

# タンクタイプ識別子（行動、スプライト、衝突検出で使用）
TANK_PLAYER = 0      # プレイヤー操作タンク
TANK_LIGHT = 1       # 基本敵タンク（HP 1）
TANK_ARMORED = 2     # 高速敵タンク（HP 1、移動速度2倍）
TANK_FAST_SHOT = 3   # 連射敵タンク（HP 1、高速射撃）
TANK_HEAVY = 4       # 重装敵タンク（HP 4、ダメージスプライト）

# =============================================================================
# 物理・移動パラメータ
# =============================================================================

# 基本移動速度（60FPSでフレームあたりピクセル数）
TANK_SPEED = 1       # タンクの基本移動速度
BULLET_SPEED = 2     # 弾丸の基本進行速度

# =============================================================================
# パワーアップ進行システム
# =============================================================================

# プレイヤータンクの力レベル（星アイテムによる段階的アップグレード）
POWER_NORMAL = 0      # 基本タンク: 通常弾丸、最大1発
POWER_FAST_SHOT = 1   # 高速弾丸: 弾丸速度2倍、最大1発
POWER_DOUBLE_SHOT = 2 # ダブルショット: 通常速度、最大2発
POWER_SUPER = 3       # スーパータンク: 鉄壁破壊可能、最大2発

# =============================================================================
# マップタイルシステム
# =============================================================================

# タイルタイプ識別子（地形の挙動と描画を定義）
TILE_EMPTY = 0    # 通行可能な空間（視覚なし、衝突なし）
TILE_BRICK = 1    # 破壊可能な茶色壁（移動を阻止、破壊可能）
TILE_STEEL = 2    # 破壊不可能な灰色壁（すべてを阻止、スーパー弾丸のみ可）
TILE_WATER = 3    # 青い水域（タンクを阻止、弾丸は通過）
TILE_FOREST = 4   # 緑の森カバー（通行可能、視覚的カバーのみ）
TILE_ICE = 5      # 氷地形（通行可能、現在のステージでは未使用）
TILE_BASE = 6     # プレイヤーベース（破壊されるとゲームオーバー）

# =============================================================================
# 視覚デザイン - PYXEL カラーパレット
# =============================================================================

# 標準Pyxel 16色パレット（インデックス0-15）
# スプライト、テキスト、プログラムによる描画を含むすべての描画で使用
COLOR_BLACK = 0        # 背景、オーバーレイの暗さ
COLOR_DARK_BLUE = 1    # 水の基本色
COLOR_DARK_PURPLE = 2  # 特殊効果
COLOR_DARK_GREEN = 3   # 森の基本色
COLOR_BROWN = 4        # レンガ壁の基本色
COLOR_DARK_GREY = 5    # タンクの履帯、砲身の詳細
COLOR_LIGHT_GREY = 6   # 鉄壁の基本色
COLOR_WHITE = 7        # テキスト、UI要素、ハイライト
COLOR_RED = 8          # ゲームオーバーテキスト、スーパーパワーレベル
COLOR_ORANGE = 9       # 特殊効果
COLOR_YELLOW = 10      # プレイヤータンク、ベース、タイトルテキスト
COLOR_GREEN = 11       # 高速射撃パワーレベル、成功テキスト
COLOR_CYAN = 12        # ダブルショットパワーレベル、水のハイライト
COLOR_LIGHT_BLUE = 13  # 特殊効果
COLOR_PINK = 14        # 特殊効果
COLOR_PEACH = 15       # 特殊効果

# =============================================================================
# アイテムシステム - パワーアップ・コレクタブル
# =============================================================================

# パワーアップアイテムタイプ（特定の敵が破壊されたときに出現）
ITEM_STAR = 0      # プレイヤーのパワーレベルを上昇（POWER_SUPERまで）
ITEM_GRENADE = 1   # 画面上のすべての敵を即座に破壊
ITEM_TANK = 2      # エクストラライフを付与（最大9ライフまで）
ITEM_SHOVEL = 3    # ベースを鉄壁で一時的に保護（10秒間）
ITEM_CLOCK = 4     # すべての敵を一時的に凍結（5秒間）
ITEM_HELMET = 5    # 一時的な無敵状態を付与（10秒間）

# =============================================================================
# ゲーム状態管理
# =============================================================================

# メインゲーム状態（どのシステムがアクティブで何が描画されるかを制御）
STATE_TITLE = 0       # ハイスコアと操作説明付きのタイトル画面
STATE_GAME = 1        # すべてのシステムが動作するアクティブなゲームプレイ
STATE_GAME_OVER = 2   # 最終スコア付きのゲームオーバー画面
STATE_STAGE_CLEAR = 3 # ステージクリア祝福画面

# =============================================================================
# 入力コントロールマッピング
# =============================================================================

# プレイヤー入力コントロール（Pyxelキー定数にマッピング）
KEY_UP = pyxel.KEY_UP       # タンクを上に移動
KEY_DOWN = pyxel.KEY_DOWN   # タンクを下に移動
KEY_LEFT = pyxel.KEY_LEFT   # タンクを左に移動
KEY_RIGHT = pyxel.KEY_RIGHT # タンクを右に移動
KEY_FIRE = pyxel.KEY_SPACE  # 弾丸を発射
KEY_START = pyxel.KEY_RETURN # ゲーム開始、画面進行